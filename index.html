<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>神秘强者试炼场</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <h1>神秘强者试炼场</h1>
      <p class="subtitle">神秘老头给你上课</p>
    </header>

    <main class="app-main">
      <!-- 首页 -->
      <section id="screen-home" class="screen active">
        <div class="card">
          <h2>欢迎来到神秘强者试炼</h2>
          <p class="story">
            这里是逻辑、博弈、邪门脑洞混合试炼场。<br />
            开整
          </p>
          <p class="story">
            当前已开放：
            <span class="highlight">
              魔法试炼（野猪王携空调哥强势入侵） ·
              海盗分金（弄子里分赃事件） ·
              囚徒困境（东窗事发） ·
              陷阱拍卖（分赃后的迷茫） ·
              分赃后的豪赌（三色珠子幸运游戏）
            </span>
          </p>
          <button id="btn-main-start" class="btn primary">
            开始神秘强者试炼
          </button>
        </div>
      </section>

      <!-- 试炼选择菜单 -->
      <section id="screen-trial-menu" class="screen">
        <div class="card">
          <h2>请选择你的邪门试炼</h2>
          <p class="story">
            刚才的随机传送太暴力，这次给你一次
            <span class="highlight">亲手作死</span>的机会。
          </p>
          <div class="choice-group">
            <button class="btn secondary" data-goto="screen-magic-intro">
              魔法试炼（野猪王携空调哥强势入侵）
            </button>
            <button class="btn secondary" data-goto="screen-pirate-intro">
              海盗分金（弄子里分赃事件）
            </button>
            <button class="btn secondary" data-goto="screen-prisoner-intro">
              囚徒困境（东窗事发）
            </button>
            <button class="btn secondary" data-goto="screen-auction-intro">
              陷阱拍卖（分赃后的迷茫）
            </button>
            <button class="btn secondary" data-goto="screen-gamble-intro">
              分赃后的豪赌（三色珠子幸运游戏）
            </button>
          </div>
          <button class="btn text" data-goto="screen-home">
            ← 算了，我还是回首页装路人
          </button>
        </div>
      </section>

      <!-- 魔法试炼 -->
      <section id="screen-magic-intro" class="screen">
        <div class="card">
          <h2>魔法试炼（野猪王携空调哥强势入侵）</h2>
          <p class="story">
            你在蓝山和邵阳之间的茶馆中，遇见了野猪王和空调大王。<br />
            你可以尝试不同的“操作思路”，看看自己究竟是
            <span class="highlight">智将、狗运哥，还是纯菜</span>。
          </p>

          <h3>故事一：先控野猪王</h3>
          <p class="story small">
            你决定先把最暴躁的野猪王控住。如果随机数 ≤ 30，
            说明你运气 + 决策还行；如果 &gt; 30，就当场翻车。
          </p>
          <button id="btn-story-boar-roll" class="btn primary">
            投掷命运随机数（1–100）
          </button>
          <p id="story-boar-result" class="story small"></p>

          <h3>故事二：先控空调大王</h3>
          <p class="story small">
            你觉得先控空调大王比较关键。如果随机数 ≤ 40，
            你是细腻控场大师；否则就是空调大王把你冻回现实。
          </p>
          <button id="btn-story-ac-roll" class="btn primary">
            再投一次命运（1–100）
          </button>
          <p id="story-ac-result" class="story small"></p>

          <h3>故事三：空放策略</h3>
          <p class="story small">
            你决定先“空放”，假装什么都不做，看对面先动。<br />
            如果随机数 ≤ 50，这波你靠心态赢；否则——<br />
            <span class="taunt">心态输了、骰子也输了。</span>
          </p>
          <button id="btn-story-pass-roll" class="btn primary">
            最后一投（1–100）
          </button>
          <p id="story-pass-result" class="story small"></p>

          <button class="btn text" data-goto="screen-trial-menu">
            ← 回到试炼选择
          </button>
        </div>
      </section>

      <!-- 海盗分金 -->
      <section id="screen-pirate-intro" class="screen">
        <div class="card">
          <h2>海盗分金（弄子里分赃事件）</h2>
          <p class="story">
            你和另一名海盗抢到一箱 100 枚金币。你来提出分赃方案，
            对方决定“同意”还是把你扔进海里。
          </p>
          <p class="story small">
            规则：你输入 <span class="highlight">给对方的金币数</span>（0–100）。<br />
            对方心里有一个“最低接受线”（20–40 之间随机）。<br />
            · 如果你给的 ≥ 底线，他同意，你拿剩下的金币；<br />
            · 如果你给的 &lt; 底线，他直接把你扔下船，你一无所有。
          </p>
          <div class="inline-form">
            <label for="pirate-offer">给对方：</label>
            <input id="pirate-offer" type="number" min="0" max="100" value="30" />
            <span>枚金币</span>
          </div>
          <button id="btn-pirate-submit" class="btn primary">
            提交分赃方案
          </button>
          <p id="pirate-result" class="story small"></p>

          <button class="btn text" data-goto="screen-trial-menu">
            ← 回到试炼选择
          </button>
        </div>
      </section>

      <!-- 囚徒困境 -->
      <section id="screen-prisoner-intro" class="screen">
        <div class="card">
          <h2>囚徒困境（东窗事发）</h2>
          <p class="story">
            你和同伙被抓。警方分别和你们单独谈话，你可以选择
            <span class="highlight">沉默</span> 或 <span class="highlight">举报</span>。
          </p>
          <p class="story small">
            · 双方都沉默：各判 1 年；<br />
            · 双方都举报：各判 5 年；<br />
            · 你举报、对方沉默：你无罪释放，对方 10 年；<br />
            · 你沉默、对方举报：你 10 年，对方无罪。
          </p>
          <p class="story small">
            同伙的选择由系统随机决定（50% 沉默 / 50% 举报）。
          </p>

          <div class="choice-group">
            <button id="btn-prisoner-cooperate" class="btn secondary">
              我选择沉默（合作）
            </button>
            <button id="btn-prisoner-defect" class="btn secondary">
              我选择举报（背刺）
            </button>
          </div>
          <p id="prisoner-result" class="story small"></p>

          <button class="btn text" data-goto="screen-trial-menu">
            ← 回到试炼选择
          </button>
        </div>
      </section>

      <!-- 陷阱拍卖 -->
      <section id="screen-auction-intro" class="screen">
        <div class="card">
          <h2>陷阱拍卖（分赃后的迷茫）</h2>
          <p class="story">
            现在有一张价值 <span class="highlight">10 元</span> 的优惠券，<br />
            采用邪门的 <span class="highlight">“全额支付拍卖”</span> 规则：
          </p>
          <p class="story small">
            · 所有人都要支付自己出的价；<br />
            · 出价最高的人拿到优惠券；<br />
            · 其他人白白送钱。
          </p>
          <p class="story small">
            你和“理性但贪心”的强者玩家对拍。你输入自己的出价（0–20 元），<br />
            强者的出价由系统根据你出价随机生成（一般不会比你低太多）。
          </p>

          <div class="inline-form">
            <label for="auction-input">你的出价：</label>
            <input id="auction-input" type="number" min="0" max="20" value="5" />
            <span>元</span>
          </div>
          <div class="choice-group">
            <button id="btn-auction-submit" class="btn primary">
              参与拍卖
            </button>
            <button id="btn-auction-giveup" class="btn secondary">
              我冷静一下，重置
            </button>
          </div>

          <p id="auction-status" class="story small">
            提示：从期望值看，这类拍卖<b>几乎必亏</b>，欢迎用钱包验证。
          </p>
          <p id="auction-result" class="story small"></p>

          <button class="btn text" data-goto="screen-trial-menu">
            ← 回到试炼选择
          </button>
        </div>
      </section>

      <!-- 分赃后的豪赌：规则介绍 -->
      <section id="screen-gamble-intro" class="screen">
        <div class="card">
          <h2>分赃后的豪赌 · 三色珠子幸运游戏</h2>
          <p class="story">
            设定：袋中共有 <span class="highlight">24 颗幸运珠</span>，
            红 / 黄 / 蓝各 8 颗。每次游戏支付
            <span class="highlight">5 元</span>，随机抽取 12 颗，
            根据颜色分布来拿奖励。
          </p>
          <p class="story small">
            奖励示意（看起来很香）：<br />
            · 头等奖：840 组合（如 8 红 4 黄 0 蓝）→ 奖励 20 元；<br />
            · 好运奖：831、750 等稀有偏色组合 → 奖励 10–19 元；<br />
            · 安慰奖：642、633 等 → 奖励 5–9 元；<br />
            · 普通奖：552、444 等 → 奖励 1–4 元（小亏局）；<br />
            · 回血局：543 组合 → 直接给你 10 元回血！
          </p>
          <p class="story small">
            推荐至少玩满 10 局，我们会自动统计总收益 / 总亏损，<br />
            方便你截图去找开发者还钱 / 领奖。
            <br /><span class="taunt">输了就不截图，特斯拉就要出发咯～</span>
          </p>
          <div class="choice-group">
            <button id="btn-bead-start" class="btn primary">
              我愿意交 5 元，开始豪赌！
            </button>
            <button class="btn text" data-goto="screen-home">
              ← 算了，我还是先回试炼首页
            </button>
          </div>
        </div>
      </section>

      <!-- 分赃后的豪赌：正式游戏界面 -->
      <section id="screen-gamble-game" class="screen">
        <div class="card">
          <h2>分赃后的豪赌 · 抽珠进行中</h2>
          <p class="story">
            每点击一次下面按钮，就视为付了 5 元，
            系统从 24 颗珠子里随机抽 12 颗，并结算本局奖励。
          </p>

          <div class="choice-group">
            <button id="btn-bead-play" class="btn primary">
              再来一局！（-5 元）
            </button>
            <button class="btn text" data-goto="screen-home">
              ← 我收手了，回到试炼首页
            </button>
          </div>

          <p class="story" id="bead-last-result">
            还没开始抽珠子，先来一局试试？
          </p>
          <p class="small" id="bead-summary"></p>
          <p class="small" id="bead-history"></p>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <p>友情提示：本页面仅用于整活和讲解博弈论，不构成任何真实投资或赌博建议。</p>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
