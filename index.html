<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>神秘强者模式 · 魔法师学院博弈对决</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header>
      <h1>神秘强者模式 · 魔法师学院博弈对决</h1>
    </header>

    <main>
      <!-- 首页：介绍 + 开始按钮 -->
      <section id="screen-home" class="screen active">
        <div class="card">
          <h2>魔法师学院三人决斗</h2>
          <p class="story">
            你代表魔法师学院出战，对手是：
            <br />· 野猪王 —— 把你变成野猪，成功率 70%；
            <br />· 空调大王 —— 用冷空调把你吹晕，成功率 90%。
            <br />你是第一个施法的，之后是野猪王，再之后是空调大王。
          </p>
          <p class="story">
            为了避免平局：<br />
            如果第一轮结束所有人都还站着，三个人一起变成“撒头股”，谁都不赢。
          </p>
          <p class="story">
            现在，你有三件武器可以选择：
            <br />1）故事魔杖：60% 概率把一个对手用故事控到不能动；
            <br />2）高之魅惑：80% 概率让对手大脑宕机；
            <br />3）特斯拉之力：100% 召唤来自 Blue mountain 的特斯拉，直接把人撞飞走。
          </p>
          <button id="btn-start" class="btn primary">开始对局</button>
        </div>
      </section>

      <!-- 选择武器 -->
      <section id="screen-weapon" class="screen">
        <div class="card">
          <h2>请选择你的武器</h2>
          <p class="story">
            你的对手都是“神秘强者”，他们都会做出让自己胜率最大化的选择。<br />
            那么，你该选哪一把武器？
          </p>
          <div class="choice-group">
            <button class="btn secondary" data-weapon="tesla">
              特斯拉之力（成功率 100%）
            </button>
            <button class="btn secondary" data-weapon="charm">
              高之魅惑（成功率 80%）
            </button>
            <button class="btn secondary" data-weapon="story">
              故事魔杖（成功率 60%）
            </button>
          </div>
          <button class="btn text" data-goto="screen-home">← 回到介绍</button>
        </div>
      </section>

      <!-- 特斯拉之力分支 -->
      <section id="screen-tesla" class="screen">
        <div class="card">
          <h2>特斯拉之力 · 结果</h2>
          <p class="story">
            你选择了<span class="highlight">特斯拉之力</span>，成功率 100%。<br />
            作为理性选手，你会优先处理威胁最大的
            <span class="highlight">空调大王（90%）</span>。
          </p>
          <p class="story">
            · 你一杖下去，空调大王被特斯拉撞飞到 Blue mountain 的某座山上，彻底退出战场。<br />
            · 接下来轮到<span class="highlight">野猪王</span> —— 他有 70% 概率把你变成野猪。
          </p>
          <p class="story">
            也就是说，在这个选择下，即使你选了<span class="highlight">命中率 100% 的武器</span>，
            你最后的胜率只有大约 <span class="highlight">30%</span>，
            而野猪王有 <span class="highlight">70%</span> 概率把你变成猪。
          </p>
          <p class="story">
            这把我们直接当作你已经被野猪王秒了。<br />
            <span class="taunt">评价：菜，就多练。</span>
          </p>
          <button class="btn primary" data-goto="screen-weapon">
            再想想，换个武器
          </button>
          <button class="btn text" data-goto="screen-home">← 回到首页</button>
        </div>
      </section>

      <!-- 高之魅惑：选择先打谁 -->
      <section id="screen-charm-choose" class="screen">
        <div class="card">
          <h2>高之魅惑 · 选择目标</h2>
          <p class="story">
            你选择了<span class="highlight">高之魅惑</span>，成功率 80%。<br />
            你必须先魅惑一个对手：
          </p>
          <div class="choice-group">
            <button class="btn secondary" data-charm-target="ac">
              先魅惑空调大王（90% 吹晕你）
            </button>
            <button class="btn secondary" data-charm-target="boar">
              先魅惑野猪王（70% 把你变成猪）
            </button>
          </div>
          <button class="btn text" data-goto="screen-weapon">← 换个武器</button>
        </div>
      </section>

      <!-- 高之魅惑：先打空调大王 -->
      <section id="screen-charm-ac" class="screen">
        <div class="card">
          <h2>高之魅惑 · 先魅惑空调大王</h2>
          <p class="story">
            · 你用 80% 的<span class="highlight">高之魅惑</span>去秒空调大王。<br />
            · 假设成功，他直接原地宕机。<br />
            · 接下来轮到<span class="highlight">野猪王</span>，他有 70% 概率把你变成野猪。
          </p>
          <p class="story">
            即使你第一下成功魅惑了空调大王，后面你仍然要面对
            <span class="highlight">70% 概率的野猪光速制裁</span>。
          </p>
          <p class="story">
            这条线大致也是输多赢少，只是比特斯拉稍微好看一点。<br />
            <span class="taunt">评价：这是“看上去很强，实战略亏”的经典技能。</span>
          </p>
          <button class="btn primary" data-goto="screen-weapon">
            再换个武器试试
          </button>
          <button class="btn text" data-goto="screen-home">← 回到首页</button>
        </div>
      </section>

      <!-- 高之魅惑：先打野猪王 -->
      <section id="screen-charm-boar" class="screen">
        <div class="card">
          <h2>高之魅惑 · 先魅惑野猪王</h2>
          <p class="story">
            · 你用 80% 的<span class="highlight">高之魅惑</span>去秒野猪王。<br />
            · 假设你成功了，现在场上只剩你和<span class="highlight">空调大王</span>。
          </p>
          <p class="story">
            接下来轮到空调大王，他有 <span class="highlight">90%</span> 概率把你吹晕。<br />
            简单说：你基本一定会被冷空调教做人。
          </p>
          <p class="story">
            所以高之魅惑这条线，无论先打谁，<br />
            都是那种<span class="highlight">“看起来好像挺强，实际上很难赢”</span>的陷阱选择。
          </p>
          <p class="taunt">
            评价：你属于“数值看着很猛，但系统是站在对手那边”的那种玩家。
          </p>
          <button class="btn primary" data-goto="screen-weapon">
            再换个武器试试
          </button>
          <button class="btn text" data-goto="screen-home">← 回到首页</button>
        </div>
      </section>

      <!-- 故事魔杖：选择三种策略 -->
      <section id="screen-story-choose" class="screen">
        <div class="card">
          <h2>故事魔杖 · 选择策略</h2>
          <p class="story">
            你选择了<span class="highlight">故事魔杖</span>，命中率 60%。<br />
            你有三种策略：
          </p>
          <div class="choice-group">
            <button class="btn secondary" data-story-option="boar">
              ① 先控野猪王（60% 命中）
            </button>
            <button class="btn secondary" data-story-option="ac">
              ② 先控空调大王（60% 命中）
            </button>
            <button class="btn secondary" data-story-option="pass">
              ③ 第一轮空放，假装在吟唱长篇故事
            </button>
          </div>
          <p class="small">
            针对 ① 和 ②，我们会计算你的胜率 X，并用 1-100 的随机数决定这把你赢不赢。<br />
            对于 ③，是一条<span class="highlight">看起来抽象，但其实是最优策略</span>的路线。
          </p>
          <button class="btn text" data-goto="screen-weapon">← 换个武器</button>
        </div>
      </section>

      <!-- 故事魔杖：打野猪王（随机数） -->
      <section id="screen-story-boar" class="screen">
        <div class="card">
          <h2>故事魔杖 · 先控野猪王</h2>
          <p class="story">
            你决定先对<span class="highlight">野猪王</span>使用故事魔杖。<br />
            · 命中率：60%。<br />
            · 即使他被控住，后面还有<span class="highlight">空调大王 90%</span> 的冷风制裁。<br />
          </p>
          <p class="story">
            在合理的推理下，你这条路线最终大约有
            <span class="highlight">30%</span> 的胜率（X = 30）。<br />
            现在我们来用随机数测试一下这把你是靠脑子赢，还是靠运气赢。
          </p>
          <button id="btn-story-boar-roll" class="btn primary">
            点击抽一个 1–100 的随机数
          </button>
          <p id="story-boar-result" class="story result-text"></p>
          <button class="btn text" data-goto="screen-story-choose">
            ← 回到故事魔杖策略选择
          </button>
          <button class="btn text" data-goto="screen-home">← 回到首页</button>
        </div>
      </section>

      <!-- 故事魔杖：打空调大王（随机数） -->
      <section id="screen-story-ac" class="screen">
        <div class="card">
          <h2>故事魔杖 · 先控空调大王</h2>
          <p class="story">
            你决定先对<span class="highlight">空调大王</span>使用故事魔杖。<br />
            · 命中率：60%。<br />
            · 成功的话，后面主要要和<span class="highlight">野猪王</span>对线。
          </p>
          <p class="story">
            在合理推理下，你这条路线最终大约有
            <span class="highlight">38%</span> 的胜率（X ≈ 38）。<br />
            现在用随机数看看这把你能不能当场翻盘。
          </p>
          <button id="btn-story-ac-roll" class="btn primary">
            点击抽一个 1–100 的随机数
          </button>
          <p id="story-ac-result" class="story result-text"></p>
          <button class="btn text" data-goto="screen-story-choose">
            ← 回到故事魔杖策略选择
          </button>
          <button class="btn text" data-goto="screen-home">← 回到首页</button>
        </div>
      </section>

      <!-- 故事魔杖：空放策略（最优） -->
      <section id="screen-story-pass" class="screen">
        <div class="card">
          <h2>故事魔杖 · 空放策略</h2>
          <p class="story">
            你选择了<span class="highlight">第一轮空放</span>，假装在吟唱一个超长的故事：<br />
            你什么都不打，只是在那边疯狂讲故事。
          </p>
          <p class="story">
            · 野猪王如果也空放，那他大概率会被<span class="highlight">空调大王</span>先手吹死。<br />
            · 所以理性的野猪王会先手对空调大王出手，把大威胁解决掉。
          </p>
          <p class="story">
            假设野猪王成功把空调大王变成猪，这一轮结束后就只剩你和野猪王。<br />
            这时候轮到你行动，你用<span class="highlight">故事魔杖</span>，有
            <span class="highlight">60%</span> 的概率赢下最终决斗。
          </p>
          <p class="story">
            也就是说，这条“看上去像在划水”的空放路线，反而给了你
            <span class="highlight">最高的理论胜率：60%</span>。
          </p>
          <button id="btn-story-pass-roll" class="btn primary">
            点击抽一个 1–100 的随机数（≤ 60 视为获胜）
          </button>
          <p id="story-pass-result" class="story result-text"></p>
          <button class="btn text" data-goto="screen-story-choose">
            ← 回到故事魔杖策略选择
          </button>
          <button class="btn text" data-goto="screen-home">← 回到首页</button>
        </div>
      </section>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
