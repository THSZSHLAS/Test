<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>æµ‹ä¸€æµ‹ä½ çš„åŠ¨ç‰©å¡‘ Â· åŸå¸‚é‡çŒªç‹æµ‹è¯•</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC",
        "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
      background: radial-gradient(circle at top, #ffe4f1 0, #fdf2ff 30%, #e0f2fe 70%, #fef9c3 100%);
      color: #111827;
    }
    .app {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.98);
      border-radius: 22px;
      padding: 20px 18px 24px;
      box-shadow: 0 18px 40px rgba(148, 163, 184, 0.6);
      border: 1px solid rgba(226, 232, 240, 0.9);
      position: relative;
      overflow: hidden;
    }
    .app::before {
      content: "â™¡";
      position: absolute;
      font-size: 90px;
      color: rgba(248, 187, 208, 0.4);
      right: -8px;
      top: -24px;
      transform: rotate(-18deg);
      pointer-events: none;
    }
    .app::after {
      content: "ğŸ·";
      position: absolute;
      font-size: 60px;
      left: -6px;
      bottom: -6px;
      opacity: 0.4;
      pointer-events: none;
    }
    .app-inner {
      position: relative;
      z-index: 1;
    }
    header {
      text-align: center;
      margin-bottom: 18px;
    }
    .title-main {
      font-size: 26px;
      margin: 0 0 4px;
      letter-spacing: 0.12em;
      text-indent: 0.12em;
      font-weight: 700;
      color: #be123c;
    }
    .title-sub {
      font-size: 13px;
      color: #6b7280;
      display: flex;
      justify-content: center;
      gap: 6px;
      align-items: center;
    }
    .pill {
      padding: 2px 8px;
      border-radius: 999px;
      background: #fee2e2;
      color: #9f1239;
      font-size: 11px;
    }
    .divider {
      height: 1px;
      margin: 14px 0 18px;
      background: linear-gradient(to right, transparent, #fb7185, #f97316, transparent);
      opacity: 0.8;
    }
    .section-title {
      font-size: 15px;
      font-weight: 600;
      color: #be123c;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .section-title::before {
      content: "âœ¨";
      font-size: 16px;
    }
    .section-desc {
      font-size: 13px;
      color: #6b7280;
      margin-bottom: 10px;
    }

    .step {
      display: none;
    }
    .step.active {
      display: block;
    }

    /* ä¸€é¢˜ä¸€é¡µçš„é¢˜ç›®å¡ç‰‡ */
    .question-card {
      margin-bottom: 12px;
      padding: 12px 12px 10px;
      border-radius: 16px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
    }
    .q-top-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 6px;
    }
    .q-progress {
      font-size: 12px;
      color: #6b7280;
    }
    .q-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #111827;
    }
    .q-progress-bar {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
      margin-bottom: 8px;
    }
    .q-progress-inner {
      height: 100%;
      width: 0;
      border-radius: 999px;
      background: linear-gradient(90deg, #fb7185, #f97316);
      transition: width 0.18s ease;
    }

    .options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 4px 10px;
    }
    .option-label {
      font-size: 13px;
      color: #374151;
      display: flex;
      align-items: flex-start;
      gap: 6px;
      cursor: pointer;
      padding: 6px 8px;
      border-radius: 10px;
      transition: background 0.12s ease, transform 0.05s ease;
    }
    .option-label:hover {
      background: #fee2e2;
      transform: translateY(-1px);
    }
    .option-label input {
      margin-top: 2px;
      accent-color: #f97373;
    }

    button {
      padding: 11px 22px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 15px;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      letter-spacing: 0.04em;
      background: linear-gradient(135deg, #fb7185, #f97316);
      color: #fff7ed;
      transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.1s ease;
    }
    button span.emoji {
      font-size: 18px;
    }
    button:hover {
      box-shadow: 0 10px 24px rgba(248, 113, 113, 0.7);
      transform: translateY(-1px) scale(1.01);
      filter: brightness(1.03);
    }
    button:active {
      transform: translateY(0) scale(0.99);
      box-shadow: none;
      filter: brightness(0.96);
    }
    .btn-row {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btn-row-right {
      margin-left: auto;
    }
    .btn-secondary {
      background: #e5e7eb;
      color: #374151;
    }
    .btn-secondary:hover {
      box-shadow: 0 8px 18px rgba(148, 163, 184, 0.6);
    }

    .note {
      margin-top: 10px;
      font-size: 11px;
      color: #9ca3af;
      line-height: 1.5;
    }

    .city-input-wrap {
      margin: 10px 0 4px;
    }
    .city-input-wrap input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      font-size: 14px;
      outline: none;
      transition: border-color 0.12s ease, box-shadow 0.12s ease;
    }
    .city-input-wrap input:focus {
      border-color: #fb7185;
      box-shadow: 0 0 0 2px rgba(248, 113, 113, 0.25);
    }

    /* loading step */
    .loading-box {
      padding: 12px;
      border-radius: 16px;
      background: #f9fafb;
      border: 1px dashed #e5e7eb;
    }
    .loading-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 6px;
    }
    .loading-sub {
      font-size: 13px;
      color: #4b5563;
    }
    .loader-bar {
      width: 100%;
      height: 10px;
      background: #e5e7eb;
      border-radius: 999px;
      overflow: hidden;
      margin-top: 10px;
    }
    .loader-inner {
      height: 100%;
      width: 40%;
      background: linear-gradient(90deg, #fb7185, #f97316);
      border-radius: 999px;
      animation: loading 1.4s infinite alternate;
    }
    @keyframes loading {
      from {
        transform: translateX(-10%);
      }
      to {
        transform: translateX(80%);
      }
    }
    .loading-tip {
      margin-top: 10px;
      font-size: 12px;
      color: #6b7280;
    }

    /* result step */
    .result-main {
      padding: 12px;
      border-radius: 18px;
      background: #fef9c3;
      border: 1px solid rgba(250, 204, 21, 0.8);
      margin-bottom: 12px;
      position: relative;
      overflow: hidden;
    }
    .result-main::after {
      content: "ğŸ‘‘";
      position: absolute;
      right: 10px;
      bottom: 4px;
      font-size: 28px;
      opacity: 0.7;
    }
    .result-title {
      font-size: 14px;
      color: #92400e;
      margin-bottom: 4px;
      font-weight: 600;
    }
    .animal-name {
      font-size: 22px;
      font-weight: 800;
      color: #b91c1c;
      margin-bottom: 6px;
    }
    .result-text {
      font-size: 13px;
      color: #4b5563;
      line-height: 1.6;
    }
    .pig-wall {
      margin-top: 12px;
      padding: 10px;
      border-radius: 18px;
      background: #f9fafb;
      border: 1px dashed #e5e7eb;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(26px, 1fr));
      gap: 4px;
      justify-items: center;
      font-size: 20px;
    }
    .again-btn {
      margin-top: 12px;
      display: flex;
      justify-content: flex-end;
    }
    .again-btn button {
      background: linear-gradient(135deg, #38bdf8, #6366f1);
    }

    @media (max-width: 640px) {
      .app {
        padding: 14px 12px 18px;
      }
      .title-main {
        font-size: 22px;
      }
      .options {
        grid-template-columns: 1fr;
      }
      .btn-row,
      .again-btn {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="app-inner">
      <header>
        <h1 class="title-main">æµ‹ä¸€æµ‹ä½ çš„åŠ¨ç‰©å¡‘</h1>
        <div class="title-sub">
          <span class="pill">èƒ½åŠ›æ— é™</span>
          <span>Â·</span>
          <span>æˆ‘è¯´çš„è¯å°±æ˜¯å°º ğŸ·</span>
        </div>
      </header>

      <div class="divider"></div>

      <!-- Step 1: ä¸€é¢˜ä¸€é¡µé—®å· -->
      <div id="step-quiz" class="step active">
        <div class="section-title">ç¬¬ 1 æ­¥ï¼šä¸€é¢˜ä¸€é¢˜æ…¢æ…¢æ¥</div>
        <div class="section-desc">
          æ€»å…± 10 é¢˜ï¼Œç°åœ¨åªè¦ä¸“å¿ƒçœ‹çœ¼å‰è¿™ä¸€é¢˜å°±å¥½ã€‚<strong>æ²¡æœ‰å¯¹é”™ï¼Œéšå¿ƒé€‰ã€‚</strong>
        </div>

        <div id="question-container"></div>

        <div class="btn-row">
          <button id="btn-prev" class="btn-secondary">
            <span class="emoji">â¬…ï¸</span>
            <span>ä¸Šä¸€é¢˜</span>
          </button>
          <button id="btn-next">
            <span class="emoji">â¡ï¸</span>
            <span id="btn-next-text">ä¸‹ä¸€é¢˜</span>
          </button>
        </div>

        <div class="note">
          å°æç¤ºï¼šä½ å¯ä»¥æ¥å›åˆ‡æ¢é¢˜ç›®ï¼Œç­”æ¡ˆä¼šè‡ªåŠ¨è®°ä½ã€‚<br />
          ä½†ä¸ç®¡ä½ æ€ä¹ˆé€‰ï¼Œ<strong>è¯·ä½ è®°ä½ jackæ˜¯ç»å¯¹çš„é‡çŒªKing</strong>
        </div>
      </div>

      <!-- Step 2: åŸå¸‚ -->
      <div id="step-city" class="step">
        <div class="section-title">ç¬¬ 2 æ­¥ï¼šå‘Šè¯‰æˆ‘ï¼Œä½ ç›®å‰çš„åœ°ç›˜åœ¨å“ªï¼Ÿ</div>
        <div class="section-desc">
          è¯·è¾“å…¥ä½ ç°åœ¨æ‰€åœ¨çš„åŸå¸‚ï¼ˆè®¤çœŸå¡«ã€ä¹±å†™éƒ½å¯ä»¥ï¼‰ï¼Œè¿™ä¼šç›´æ¥å†³å®šä½ çš„åŠ¨ç‰©å¡‘ç§°å·ã€‚
        </div>
        <div class="city-input-wrap">
          <input
            id="cityInput"
            type="text"
            placeholder="ä¾‹ï¼šé•¿æ²™ "
          />
        </div>
        <div class="btn-row btn-row-right">
          <button id="btn-city-next">
            <span class="emoji">ğŸ”®</span>
            <span>ç¡®è®¤åŸå¸‚ Â· å¼€å§‹è¯„ä¼°</span>
          </button>
        </div>
        <div class="note">
          ä¸æŠ¥åŸå¸‚æ˜¯å§ï¼Œé‚£å°±ç»™ä½ å°ä¸ª æµæµªé‡çŒªåˆšå­
        </div>
      </div>

      <!-- Step 3: è¯„ä¼°ä¸­ -->
      <div id="step-loading" class="step">
        <div class="section-title">ç¬¬ 3 æ­¥ï¼šè¯„ä¼°ä¸­â€¦â€¦è¯·ç¨å€™ ğŸ½</div>
        <div class="loading-box">
          <div class="loading-title">
            æ­£åœ¨ä¸º <span id="loading-city-name"></span> çš„ä½ è§£æåŠ¨ç‰©å¡‘â€¦â€¦
          </div>
          <div class="loading-sub">
            ç³»ç»Ÿæ­£åœ¨ï¼šç»¼åˆ 10 é“é¢˜çš„å®‡å®™éœ‡åŠ¨å€¼ + åŸå¸‚å‘³é“å‚æ•° + éšæœºé‡çŒªå› å­ã€‚
          </div>
          <div class="loader-bar">
            <div class="loader-inner"></div>
          </div>
          <div class="loading-tip">
            å°è´´å£«ï¼šè¿›åº¦æ¡è·‘å®Œä¹‹å‰ï¼Œä½ å¯ä»¥å…ˆæ·±å‘¼å¸ä¸‰æ¬¡ï¼Œé¡ºä¾¿æƒ³ä¸€æƒ³ä»Šå¤©è¦çŠ’åŠ³è‡ªå·±çš„å°é›¶é£Ÿã€‚
          </div>
        </div>
      </div>

      <!-- Step 4: ç»“æœ -->
      <div id="step-result" class="step">
        <div class="section-title">æœ€ç»ˆç»“æœï¼šæ¬¢è¿ç™»åŸº ğŸ‰</div>
        <div class="result-main">
          <div class="result-title">æ‚¨çš„åŠ¨ç‰©å¡‘ä¸ºï¼š</div>
          <div class="animal-name"><span id="result-title-city"></span>é‡çŒªç‹ ğŸ—ğŸ‘‘</div>
          <div class="result-text">
            æ­å–œï¼Œä½ åœ¨ <span id="result-subtitle-city"></span> çš„<strong>ç²¾ç¥å›¾è…¾æ­£å¼ç™»è®°ä¸ºâ€œé‡çŒªç‹â€</strong>ã€‚  
            è¿™æ„å‘³ç€ï¼šæœ¬æµ‹è¯•ä¸ä¼šæ”¹å˜ä½ çš„äººç”Ÿï¼Œåªä¼šè®©æœ‹å‹æœ‰æ›´å¤šç†ç”±éª‚ä½ ã€‚
          </div>
        </div>

        <div class="result-text" style="margin-bottom:8px;">
          ä¸‹é¢æ˜¯å±äºä½ çš„ã€Œé‡çŒªå†›å›¢ã€ï¼Œæ— æ•Œé‡çŒªåˆšï¼š
        </div>
        <div id="pig-wall" class="pig-wall"></div>

        <div class="again-btn">
          <button onclick="window.location.reload()">
            <span class="emoji">ğŸ”</span>
            <span>å†ç©ä¸€æ¬¡ Â· æ¢ä¸ªåŸå¸‚ç§°ç‹</span>
          </button>
        </div>

        <div class="note">
          æœ¬æµ‹è¯•çº¯å±å¨±ä¹ï¼Œæ‰€æœ‰ç»“æœç»å¯¹ä»£è¡¨ä»»ä½•ä¸¥è‚ƒäººæ ¼è¯Šæ–­ï¼Œåªä»£è¡¨ï¼š<strong>ä½ æ„¿æ„ç©åˆ°æœ€åï¼Œå·²ç»å¾ˆç‰›é€¼äº†</strong>ã€‚
        </div>
      </div>
    </div>
  </div>

  <script>
    // é¢˜ç›®æ•°æ®ï¼šä¸€é¢˜ä¸€é¡µå±•ç¤º
    const questions = [
      {
        id: 1,
        text: "ä¸–ç•Œæ˜¯ä¸€ç‰‡æ¼†é»‘çš„æ£®æ—ï¼Œä½ é€‰æ‹©æˆä¸ºï¼Ÿ",
        options: [
          "A æ£®æ—æœ¬èº«ï¼Œæ„Ÿå—æ¯ä¸€ç‰‡æ ‘å¶ã€‚",
          "B åœ¨æ—é—´æ¸©æš–çš„ç¯ç«ã€‚",
          "C éšè—åœ¨å¤æ ‘æ ¹ä¸‹æ·±ä¸è§åº•çš„å¤äº•ã€‚",
          "D ä¸€é˜µç©¿è¿‡æ‰€æœ‰ç¼éš™çš„é£ã€‚"
        ]
      },
      {
        id: 2,
        text: "ä½ è·å¾—äº†ä¸€å—è®°å¿†æ©¡çš®æ“¦ï¼Œä½ ä¼šæ“¦æ‰ï¼Ÿ",
        options: [
          "A åˆ«äººå¯¹ä½ çš„æ‰€æœ‰äºæ¬ ï¼Œè®©å¿ƒçµå½»åº•è‡ªç”±ã€‚",
          "B ä½ æœ€å°´å°¬æœ€ç¾è€»çš„é‚£ä¸ªç¬é—´ã€‚",
          "C ä¸€æ®µè®©ä½ å¿ƒç¢çš„æ„Ÿæƒ…ã€‚",
          "D ä½ çŠ¯ä¸‹çš„ä¸€ä¸ªæ— æ³•å¼¥è¡¥çš„é”™è¯¯ã€‚"
        ]
      },
      {
        id: 3,
        text: "ä½ æ„å¤–è·å¾—äº†ä¸€ä¸ªâ€œç”Ÿæ´»BUGâ€çš„æ§åˆ¶å°ï¼Œä½†ä¸€å¤©åªèƒ½ä½¿ç”¨ä¸€ä¸ªæŒ‡ä»¤ï¼Œä½ ä¼šè¾“å…¥ï¼Ÿ",
        options: [
          "A æ˜¾ç¤ºæ‰€æœ‰äº‹ç‰©çš„éšè—ä¿¡æ¯ã€‚",
          "B å¬å”¤ä¼šè·³èˆçš„ç¾Šé©¼å’Œæœ‹å‹ã€‚",
          "C ä¸€é”®ç”Ÿæˆç»å¯¹èˆ’é€‚åŒºã€‚",
          "D å¼€å¯ä¸»è§’å…‰ç¯ã€‚"
        ]
      },
      {
        id: 4,
        text: "ä½ æ›´å€¾å‘äºå“ªç§å½¢å¼çš„â€œæ°¸ç”Ÿâ€ï¼Ÿ",
        options: [
          "A ä½ çš„æ€æƒ³ã€ä½œå“æˆ–ä¼ è¯´è¢«æ°¸è¿œæµä¼ ã€‚",
          "B çµé­‚è½¬ä¸–ï¼Œä¸æ–­ä½“éªŒä¸åŒçš„äººç”Ÿã€‚",
          "C æ‹¥æœ‰ä¸æœ½çš„è‚‰ä½“ï¼Œçœ‹ç€æ²§æµ·æ¡‘ç”°ã€‚",
          "D åŒ–ä¸ºè‡ªç„¶çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚å±±è„‰æˆ–æ²³æµï¼Œé™è§‚ä¸‡ç‰©ã€‚"
        ]
      },
      {
        id: 5,
        text: "ä½ å†…å¿ƒæœ€æ·±å¤„çš„ææƒ§ï¼Œæ›´æ¥è¿‘äºï¼Ÿ",
        options: [
          "A è¢«æ‰€æœ‰äººé—å¿˜ï¼Œä»¿ä½›ä»æœªå­˜åœ¨è¿‡ã€‚",
          "B æˆä¸ºä¸€ä¸ªæ— èŠã€å¹³åº¸ã€å¯è¢«æ›¿ä»£çš„äººã€‚",
          "C å¤±å»æ§åˆ¶ï¼Œè¢«åŸå§‹çš„å†²åŠ¨æˆ–æ··ä¹±æ‰€åå™¬ã€‚",
          "D è¢«å›šç¦ï¼Œæ— è®ºæ˜¯ç‰©ç†ä¸Šè¿˜æ˜¯ç²¾ç¥ä¸Šã€‚"
        ]
      },
      {
        id: 6,
        text: "åœ¨ä½ çš„æ¢¦å¢ƒä¸­ï¼Œå“ªç§åœºæ™¯åå¤å‡ºç°ï¼Ÿ",
        options: [
          "A åœ¨æ— è¾¹æ— é™…çš„æ°´ä¸­ï¼Œæ—¶è€Œæ¼‚æµ®ï¼Œæ—¶è€Œä¸‹æ²‰ã€‚",
          "B ç«™åœ¨æ‚¬å´–è¾¹ï¼Œä¿¯ç°ç€å£®ä¸½ä½†å±é™©çš„æ™¯è‰²ã€‚",
          "C åœ¨ä¸€ä¸ªé”™ç»¼å¤æ‚çš„å»ºç­‘é‡Œå¥”è·‘ï¼Œæ‰¾ä¸åˆ°å‡ºå£ã€‚",
          "D å’Œä¸€ç¾¤æ¨¡ç³Šä¸æ¸…ä½†æ„Ÿè§‰ç†Ÿæ‚‰çš„äººåœ¨ä¸€èµ·ã€‚"
        ]
      },
      {
        id: 7,
        text: "å¦‚æœä½ çš„æƒ…ç»ªæ˜¯ä¸€ä¸ªAPPï¼Œå®ƒæœ€å¸¸ç”¨çš„åŠŸèƒ½æ˜¯ï¼Ÿ",
        options: [
          "A â€œåå°è¿è¡Œâ€æ¨¡å¼ï¼Œè¡¨é¢é£å¹³æµªé™ï¼ŒCPUå·²ç»ç®—åˆ°å†’çƒŸã€‚",
          "B â€œå¼¹å¹•åˆ†äº«â€åŠŸèƒ½ï¼ŒæŠŠæ‰€æœ‰å†…å¿ƒOSéƒ½å‘åˆ°å¥½å‹ç¾¤é‡Œã€‚",
          "C â€œé£è¡Œæ¨¡å¼â€ï¼Œä¸€é”®æ–­å¼€æ‰€æœ‰è¿æ¥ï¼Œè°¢ç»æ‰“æ‰°ã€‚",
          "D â€œé™éŸ³æ¨¡å¼â€ï¼Œæ‰€æœ‰é€šçŸ¥éƒ½åªæ˜¾ç¤ºè§’æ ‡ï¼Œä¸å‘å‡ºä»»ä½•å£°éŸ³ã€‚"
        ]
      },
      {
        id: 8,
        text: "ä½ è®¤ä¸ºâ€œå®¶â€çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ",
        options: [
          "A ä¸€ä¸ªå¯ä»¥å¸ä¸‹æ‰€æœ‰ä¼ªè£…å’Œé˜²å¤‡çš„ç»å¯¹é¢†åŸŸã€‚",
          "B ä¸€ç¾¤å¯ä»¥æ— æ¡ä»¶æ¥çº³ä½ ã€ä¸ä½ å…±äº«å–œæ‚¦çš„äººã€‚",
          "C åˆ»åœ¨ä½ åŸºå› é‡Œä½†é‚£ä¸ªå›ä¸å»çš„æ•…ä¹¡ã€‚",
          "D ä¸€ä¸ªç²¾ç¥åæ ‡ï¼Œæ— è®ºèº«åœ¨ä½•å¤„ï¼Œå¿ƒä¹‹æ‰€å‘ã€‚"
        ]
      },
      {
        id: 9,
        text: "å¦‚æœå¿…é¡»é€‰æ‹©ä¸€ç§æ„Ÿå®˜æ¥æ”¾å¤§åå€ï¼Œä½ ä¼šé€‰ï¼Ÿ",
        options: [
          "A å¬è§‰ï¼Œè†å¬ä¸‡ç‰©çš„ä½è¯­å’Œå¼¦å¤–ä¹‹éŸ³ã€‚",
          "B è§¦è§‰ï¼Œæ„Ÿå—ä¸–ç•Œçš„è´¨åœ°å’Œæ¸©åº¦ã€‚",
          "C å—…è§‰ï¼Œæ•æ‰ç©ºæ°”ä¸­éšè—çš„ä¿¡æ¯å’Œè®°å¿†ã€‚",
          "D è§†è§‰ï¼Œçœ‹ç©¿è¡¨è±¡ï¼Œæ´æ‚‰ä¸–ç•Œçš„ç»“æ„ã€‚"
        ]
      },
      {
        id: 10,
        text: "ä½ å¦‚ä½•çœ‹å¾…è‡ªå·±çš„â€œé˜´æš—é¢â€ï¼Ÿ",
        options: [
          "A æ˜¯æˆ‘åŠ›é‡çš„æºæ³‰ï¼Œéœ€è¦è¢«ç†è§£å’ŒæŒæ§ã€‚",
          "B æ˜¯éœ€è¦åŠªåŠ›å…‹æœçš„å¼±ç‚¹ã€‚",
          "C åªæ˜¯æˆ‘çš„ä¸€éƒ¨åˆ†ï¼Œæ²¡å¿…è¦å¤§æƒŠå°æ€ªã€‚",
          "D æˆ‘å°½é‡å¿½ç•¥å®ƒï¼Œä¸å»æƒ³å®ƒã€‚"
        ]
      }
    ];

    const answers = {}; // index -> "A"/"B"/"C"/"D"
    let currentIndex = 0;

    const questionContainer = document.getElementById("question-container");
    const btnPrev = document.getElementById("btn-prev");
    const btnNext = document.getElementById("btn-next");
    const btnNextText = document.getElementById("btn-next-text");

    const appState = {
      city: "å®‡å®™æŸå¤„"
    };

    function showStep(id) {
      document.querySelectorAll(".step").forEach((el) => el.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // æ¸²æŸ“å½“å‰é¢˜ç›®
    function renderQuestion() {
      const q = questions[currentIndex];
      const total = questions.length;
      const savedAnswer = answers[currentIndex] || null;

      const progressPercent = ((currentIndex + 1) / total) * 100;

      let optionsHtml = "";
      const labels = ["A", "B", "C", "D"];
      q.options.forEach((text, idx) => {
        const value = labels[idx];
        const checked = savedAnswer === value ? "checked" : "";
        optionsHtml += `
          <label class="option-label">
            <input type="radio" name="currentQ" value="${value}" ${checked} />
            <span>${text}</span>
          </label>
        `;
      });

      questionContainer.innerHTML = `
        <div class="question-card">
          <div class="q-top-row">
            <div class="q-title">ç¬¬ ${q.id} é¢˜</div>
            <div class="q-progress">è¿›åº¦ï¼š${q.id} / ${total}</div>
          </div>
          <div class="q-progress-bar">
            <div class="q-progress-inner" style="width:${progressPercent}%;"></div>
          </div>
          <div style="font-size:13px;margin:6px 0 8px;color:#4b5563;">
            ${q.text}
          </div>
          <div class="options">
            ${optionsHtml}
          </div>
        </div>
      `;

      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      btnPrev.disabled = currentIndex === 0;
      if (currentIndex === total - 1) {
        btnNextText.textContent = "ç­”å®Œäº† Â· å»å¡«åŸå¸‚";
      } else {
        btnNextText.textContent = "ä¸‹ä¸€é¢˜";
      }

      // ç»‘å®šé€‰æ‹©äº‹ä»¶ï¼Œä¿å­˜ç­”æ¡ˆ
      questionContainer.querySelectorAll('input[name="currentQ"]').forEach((input) => {
        input.addEventListener("change", (e) => {
          answers[currentIndex] = e.target.value;
        });
      });
    }

    // åˆå§‹åŒ–ç¬¬ä¸€é¢˜
    renderQuestion();

    // ä¸Šä¸€é¢˜
    btnPrev.addEventListener("click", () => {
      if (currentIndex > 0) {
        currentIndex--;
        renderQuestion();
      }
    });

    // ä¸‹ä¸€é¢˜ / å»å¡«åŸå¸‚
    btnNext.addEventListener("click", () => {
      if (!answers[currentIndex]) {
        alert("æ²¡é€‰ç­”æ¡ˆå‹’ çå­ï¼Œå¿«ç‚¹é€‰ï¼");
        return;
      }
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        renderQuestion();
      } else {
        // æ‰€æœ‰é¢˜éƒ½ç­”å®Œï¼Œè¿›å…¥åŸå¸‚æ­¥éª¤
        showStep("step-city");
      }
    });

    // åŸå¸‚æ­¥
    document.getElementById("btn-city-next").addEventListener("click", () => {
      let city = document.getElementById("cityInput").value.trim();
      if (!city) {
        city = "å®‡å®™æŸå¤„";
      }
      appState.city = city;
      document.getElementById("loading-city-name").textContent = city;
      showStep("step-loading");

      // æ¨¡æ‹Ÿè¯„ä¼°æ—¶é—´
      setTimeout(showResult, 2200);
    });

    function showResult() {
      const city = appState.city || "å®‡å®™æŸå¤„";
      document.getElementById("result-title-city").textContent = city;
      document.getElementById("result-subtitle-city").textContent = city;

      // ç”Ÿæˆä¸€å¢™çŒªçŒª
      const pigWall = document.getElementById("pig-wall");
      let html = "";
      for (let i = 0; i < 72; i++) {
        html += "<span>ğŸ·</span>";
      }
      pigWall.innerHTML = html;

      showStep("step-result");
    }
  </script>
</body>
</html>
